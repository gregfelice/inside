<%- model_class = Employee -%>

<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.pluralize %></h1>
</div>

<%= form_tag employees_path, :class => 'form-search', :method => 'get' do %>

  <%# preserve the direction and sort order when we search %>
  <%= hidden_field_tag :direction, params[:direction] %>
  <%= hidden_field_tag :sort, params[:sort] %>

  <%= text_field_tag :search, params[:search], :class => "input-medium search-query" %>
  <%= submit_tag "Search", :name => nil, :class => 'btn' %>
<% end %>

<%= link_to "New", new_employee_path, :class => 'btn btn-primary' %>

<table class="table table-striped">
  <thead>
    <tr>
      <th><%= sortable "id", "Id" %></th>
      <th><%= sortable "full_name", "Full Name" %></th>
      <th><%= sortable "job_title", "Job Title" %></th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @employees.each do |employee| %>
      <tr>
        <td><%= link_to employee.id, employee_path(employee) %></td>
        <td><%= employee.full_name %></td>
        <td><%= employee.job_title %></td>
        <td>
          <%= link_to 'Edit', edit_employee_path(employee), :class => 'btn btn-mini' %>
          <%= link_to t('.destroy', 
            :default => t("helpers.links.destroy")),
            employee_path(employee), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
            :class => 'btn btn-mini btn-danger' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= will_paginate @employees %>
